---
up: "[[初めてのGo言語]]"
related:
tags:
  - golang
aliases:
  - golang
created: 2025-12-18
updated: 2025-12-18
---
 ##### ==Goのツール==
- バージョン確認
	- go version
- コンパイル
	- go build
- コードの整形
	- go fmt
- 依存関係の管理
	- go mod
	- GOROOTとGOPATHは古いので無視
- テスト
	- go test
- コーディングミスの発見
	- go vet

### ==2章　事前宣言された型==
**事前宣言された型（Predeclared Types）」** とは、Go言語の仕様にあらかじめ組み込まれており、**`import` 文を書かずに、プログラム中のどこでもいきなり使える型** のことです。

「最大限」とは意図を明確に表現する

##### 主な「事前宣言された型」の一覧

| **カテゴリ**      | **型名**                                                                                                             |
| ------------- | ------------------------------------------------------------------------------------------------------------------ |
| **論理値**       | `bool`                                                                                                             |
| **数値（整数）**    | `int`, `int8`, `int16`, `int32`, `int64`<br><br>  <br><br>`uint`, `uint8`, `uint16`, `uint32`, `uint64`, `uintptr` |
| **数値（浮動小数点）** | `float32`, `float64`                                                                                               |
| **数値（複素数）**   | `complex64`, `complex128`                                                                                          |
| **エイリアス**     | `byte` (=`uint8`), `rune` (=`int32`)                                                                               |
| **文字列**       | `string`                                                                                                           |
| **エラー**       | `error`                                                                                                            |
| **その他**       | `any` (=`interface{}`), `comparable`                                                                               |


#### ==ゼロ値==
代入しない場合のデフォルトの値
例：bool false

#### ==リテラル==
数値や文字列などを直接ソースコードで書いたもの
型が宣言されるまで、型付けされていないので互換性を持つ場合指定がなくても使える

`1_000` など「型のない定数」もある
数値は3桁ずつ、「 `_` 」で区切ることが可能

デフォルトの型

|**リテラルの種類**|**書き方の例**|**デフォルトの型**|**備考**|
|---|---|---|---|
|**整数**|`10`, `-5`|**`int`**|環境依存（64bit PCなら `int64` 相当）|
|**浮動小数点**|`3.14`, `1.2e3`|**`float64`**|`float32` ではないことに注意|
|**文字 (ルーン)**|`'A'`, `'あ'`|**`int32` (rune)**|シングルクォートは `rune` になる|
|**文字列**|`"Hello"`, `` `SQL` ``|**`string`**||
|**真偽値**|`true`, `false`|**`bool`**||
|**複素数**|`1 + 2i`|**`complex128`**||

#### ==整数値==
ゼロ値：0

|**型**|**使いどころ**|**頻度**|
|---|---|---|
|**`int`**|**デフォルトはこれ。** ループ変数、スライスの長さ、一般的な計算。|★★★★★|
|**`int64`**|ID（データベースの主キー）、タイムスタンプ、金額、ファイルサイズ。|★★★☆☆|
|**`byte`** (`uint8`)|バイナリデータ、画像処理、文字コード（ASCII）。|★★☆☆☆|
|**`rune`** (`int32`)|Unicode文字（日本語など）を1文字扱う場合。|★☆☆☆☆|
|**`uint`系**|ビット演算をする時だけ。**「負の値をとらないから」という理由では使わない。**|☆☆☆☆☆|
|`int32` / `int16`|通信プロトコルや、メモリ節約が極限まで必要な場合のみ。|☆☆☆☆☆|

整数の演算子
```go

var x int = 10
x *=2 // 20 演算後代入のやり方
```


#### ==浮動小数点==
ゼロ値：0

|**型**|**一般名**|**精度（桁数）**|**使いどころ**|**推奨度**|
|---|---|---|---|---|
|**`float64`**|倍精度 (Double)|約15桁|**デフォルトはこれ。** 通常の計算、科学技術計算、ライブラリの利用。|★★★★★|
|**`float32`**|単精度 (Float)|約7桁|**3Dグラフィックス（OpenGL/Unity連携）**、極端なメモリ節約が必要な場合。|★☆☆☆☆|


#### ==複素数（Complex Number）型==

| **型名**           | **構成**                          | **精度** | **デフォルト** |
| ---------------- | ------------------------------- | ------ | --------- |
| **`complex128`** | `float64` (実部) + `float64` (虚部) | 倍精度    | **基本はこれ** |
| **`complex64`**  | `float32` (実部) + `float32` (虚部) | 単精度    | メモリ節約用    |

#### ==文字列型==

- 変更不可能
一度作った文字列の中身は、絶対に書き換えられません。
```go
s := "Hello"
// s[0] = 'h' // コンパイルエラー！
```

書き換えたい場合は、新しい文字列を作るか、`[]byte` に変換して編集してから文字列に戻す必要があります。これにより、複数のスレッド（Goroutine）から同時にアクセスしても安全（スレッドセーフ）であることが保証されます。

- **デフォルトで UTF-8**
Goのソースコード自体がUTF-8であり、文字列の中身も **UTF-8でエンコードされたバイト列** として扱われます。

- **ゼロ値は `""` (空文字)**
`null` (nil) ではありません。未初期化のstring変数は、必ず空文字になります。 `if s == ""` で判定できます。

- **比較演算子**
	- 「<」等で、順序の比較
	- 文字列の連結には「+」

- **2つの文字型**

| **型名**     | **実体 (エイリアス)** | **サイズ** | **用途**                       | **リテラル表記** |
| ---------- | -------------- | ------- | ---------------------------- | ---------- |
| **`byte`** | **`uint8`**    | 1バイト    | ASCII文字 (A-Z, 0-9), バイナリデータ  | `'A'`      |
| **`rune`** | **`int32`**    | 4バイト    | Unicode文字 (あ, 🍣, 漢), すべての文字 | `'あ'`      |

#### ==明示的型変換はない==
- 下記のように別の型との計算は型変換が必要
- boolも型変換が必要です
```go
var x int = 100
var y float64 = 200
var sum1 float64 = float64(x) + y
```

型が違う場合は計算できないが、リテラルの場合計算可能
```go
var x float64 = 200.3 * 2
```


##### 変数の宣言

```go

var x int = 10

// デフォルトの型がわかる場合は型省略可能
var x = 10

// 多重代入 関数の戻り値のみに使用
var x, y int = 10, 20

// ゼロ値の代入
var x int
var x, y int

//宣言リスト
var (
    x int              // パターン1: 型のみ指定
    y = 10             // パターン2: 値のみ指定（型推論）
    z int = 20         // パターン3: 両方指定
    d, e = 40, "hello" // パターン4: 複数変数の初期化（異なる型）
    f, g string        // パターン5: 複数変数の宣言（同じ型）
)

//関数内ではvar省力可能
x := 10
x, y := 10, "hello"


```


#### ==パッケージブロック==
Go言語における「パッケージブロック (Package Block)」とは、変数の「有効範囲（スコープ）」を表す用語の一つです。

一言で言うと、「同じパッケージに所属しているファイルなら、どこからでも見える共有スペース」のことです。

###### パッケージブロックのイメージ
Go言語では、1つのフォルダ（パッケージ）の中に、複数の `.go` ファイルを作ることができます。 例えば、`main` パッケージの中に `main.go` と `config.go` があるとします。

- **ファイルブロック**: `import` 文などは、そのファイル内でしか有効ではありません。
- **パッケージブロック**: トップレベル（関数の外）で定義した変数・定数・関数・型は、**ファイルが別れていても、同じパッケージ内なら共有されます。**

|**階層**|**名前**|**説明**|**具体例**|
|---|---|---|---|
|**1 (最上位)**|**ユニバースブロック**|言語全体で有効。|`int`, `true`, `error` など (前回解説した「事前宣言された型」)|
|**2**|**パッケージブロック**|**同じパッケージ内の全ファイルで有効。**|トップレベルの `var`, `func`, `type`, `const`|
|**3**|**ファイルブロック**|そのファイル内でのみ有効。|**`import` されたパッケージ名** (`fmt` など)|
|**4 (最下位)**|**ローカルブロック**|関数や `if` 文の中でのみ有効。|関数内の `x := 10` など|]


#### ==定数==
定数を宣言するのは、パッケージレベルあるいは関数のみ
型付きの定数は同じ型の変数に対してのみ代入可能

代入可能なもの
- 数値リテラル
- trueおよびfalse
- 文字列
- rune
- 次に挙げる組み込みの関数の結果 -- complex, real, imag, len, cap
- 上であげた値と演算子から構成される式

```go
package main // パッケージ宣言

// インポート宣言 fmtパッケージをインポート
import "fmt"

const x int64 = 10

const (
	idkey   = "ID"
	namekey = "NAME"
)

const z = 20 * 10

func main() { // 関数宣言
	const y = "Hello World"
	var hoge string = y
	fmt.Println(hoge)

}
```


##### 未使用変数
GOのゴールに「大規模なチームによる共同開発を容易にする」というものがある
なのでGOは「宣言されたローカル変数は全て使用しなければならない」というルールがある
使われないコンパイルエラーになる
但し、一度でも使用し後に際代入して、使用しない場合はエラーにはならない

定数はコンパイルエラーにならない


##### 変数の名前
定数は先頭文字が大文字か小文字かで外側からのアクセスできるか決まる

1文字の場合は以下を使用
- 整数：i
- 浮動小数点：f
- 論理値：b