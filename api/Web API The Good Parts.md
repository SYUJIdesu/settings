---
up:
related:
tags:
  - API
aliases:
  - Web API the Good Parts
created: 2025-12-18
updated: 2025-12-18
---
### 概要
```cardlink
url: https://amzn.asia/d/2oQNi8F
title: "Web API: The Good Parts | 水野貴明 |本 | 通販 | Amazon"
description: "Amazonで水野貴明のWeb API: The Good Parts。アマゾンならポイント還元本が多数。水野貴明作品ほか、お急ぎ便対象商品は当日お届けも可能。またWeb API: The Good Partsもアマゾン配送商品なら通常配送無料。"
host: amzn.asia
```

美しい（使いやすい・変更に強い）Web APIを設計するための、実践的なガイドライン集。
「厳格なREST」よりも「開発者が直感的に使えるプラグマティズム（実用性）」を重視している点が特徴。

---

#### ==1. 良いURIの設計 (Endpoint Design)==

URIは「リソース（名詞）」を表すべきであり、「アクション（動詞）」を含めてはならない。

##### 基本原則
* **短く入力しやすい**: スペルミスを防ぐ。
* **人間が読んで意味がわかる**: 推測可能であること。
* **大文字小文字**: 原則として**小文字**を使用する。
* **単語の連結**: ハイフン (`-`) を推奨（Googleなどの検索エンジンが区切りとして認識しやすいため）。

##### リソースの表現
* **名詞を使う**: `getUsers` や `updateUser` はNG。
* **複数形を使う**: コレクションを表すため、`/users` のように複数形が基本。
    * OK: `GET /users` (一覧), `GET /users/123` (個別)
    * NG: `GET /userList`, `GET /user/123`

##### 階層構造とクエリパラメータ
* **親子関係**: リソース間の関係はパスの階層で表す。
    * `GET /users/123/orders` （ユーザー123の注文一覧）
* **絞り込み・ソート**: リソースを特定しない条件はクエリパラメータで表す。
    * `GET /users?role=admin&sort=desc`

---

#### ==2. HTTPメソッドの適切な使用==

URIが「何」を指すか（名詞）であるのに対し、HTTPメソッドは「どうするか」という操作（動詞）を表す。

| メソッド | 役割 | 冪等性 (Idempotency) | 安全性 (Safety) | 解説 |
| :--- | :--- | :--- | :--- | :--- |
| **GET** | 取得 | あり | あり | リソースの状態を変更せずに情報を取得する。 |
| **POST** | 新規作成 | **なし** | なし | 実行するたびに新しいリソースが作成される。 |
| **PUT** | 置換/更新 | あり | なし | リソース全体を置き換える。2回やっても結果は同じ。 |
| **DELETE** | 削除 | あり | なし | リソースを削除する。 |
| **PATCH** | 部分更新 | なし(※) | なし | リソースの一部だけを変更する。 |

※ PATCHは設計次第だが、基本的には冪等性が保証されない場合が多い。

---

#### ==3. レスポンスデータの設計 (JSON)==

##### データフォーマット
* **JSON** をデファクトスタンダードとして使用する。
* XML等は特別な要件がない限り避ける。

##### 命名規則 (Naming Convention)
* **キャメルケース** (`userName`) か **スネークケース** (`user_name`) かは、プロジェクトや組織で統一されていればどちらでも良い。
* ただし、JSONの一般的な慣習としてはスネークケースが多いが、JSクライアントとの親和性でキャメルケースを選ぶ場合も増えている。

##### 日付のフォーマット
* **ISO 8601** 形式を使用する（RFC 3339）。
* 例: `"2023-12-01T12:00:00Z"`
* Unix Timestampは人間が読めないため、デバッグが困難になるので避けるのが無難。

##### エンベロープ（ラップ）するか？
* 基本的には、トップレベルにデータをそのまま配置するフラットな構造が良い。
* メタデータ（ページング情報など）が必要な場合は、`data` 等でラップする。

```json
// メタデータが必要な場合の例
{
  "data": [ ... ],
  "pagination": {
    "total": 100,
    "page": 1
  }
}
```

### 関連する考え

```dataview
LIST
WHERE up = [[Web API The Good Parts]]
SORT file.name ASC
```
